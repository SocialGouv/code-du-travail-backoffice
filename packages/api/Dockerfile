# API Image

FROM node:16.13.1-alpine

ARG API_PORT
ARG DB_URI
ARG NODE_ENV
ARG POSTGREST_URI

ENV API_PORT=$API_PORT
ENV DB_URI=$DB_URI
ENV NODE_ENV=$NODE_ENV
ENV POSTGREST_URI=$POSTGREST_URI

WORKDIR /app

COPY . .

RUN yarn --production --pure-lockfile

ENTRYPOINT ["yarn", "start"]
