FROM node:10-slim

ARG API_DOCKER_URI
ARG API_URI
ARG NODE_ENV
ENV API_DOCKER_URI=$API_DOCKER_URI
ENV API_URI=$API_URI
ENV NODE_ENV=$NODE_ENV

WORKDIR /app

COPY . ./

RUN yarn --frozen-lockfile
RUN yarn build

ENTRYPOINT ["yarn", "start"]
